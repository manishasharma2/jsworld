<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Advance Code</title>
</head>

<body style="background-color: #414141; color: #ffffff;margin: 10px; padding: 10px;">
    Value State Description
    0 UNSENT Client has been created. open() not called yet.
    1 OPENED open() has been called.
    2 HEADERS_RECEIVED send() has been called, and headers and status are available.
    3 LOADING Downloading; responseText holds partial data.
    4 DONE The operation is complete.
</body>
<!-- <script>
    const requestUrl = 'https://api.github.com/users/hiteshchoudhary';
    const xhr = new XMLHttpRequest()
    xhr.open('GET', requestUrl)
    xhr.onreadystatechange = function () {
        console.log(xhr.readyState)
        if (xhr.readyState === 4) {
            const data = JSON.parse(this.responseText);
            console.log(typeof data)
            console.log(data.followers)
            
        }
    };
    xhr.send();
</script> -->


<script>
    //promisess

    // const promiseOne = new Promise(function (resolve, reject) {
    //     //Do an async task
    //     //DB calls, cryptography, network calls,
    //     setTimeout(function () {
    //         console.log("Async task is completed");
    //         resolve()
    //     }, 1000)
    // });

    // promiseOne.then(function () {
    //     console.log("Promise consumed");

    // })

    // const promiseTwo = new Promise(function (resolve, reject) {
    //     setTimeout(function () {
    //         console.log("Async Task 2");
    //         resolve();
    //     }, 2000)
    // }).then(function () {
    //     console.log("Async Two resolved");
    // })

    // const promiseThree = new Promise(function (resolve, reject) {
    //     setTimeout(function () {
    //         resolve({ username: 'Chai', email: "chai@example.com" });

    //     }, 1000)
    // }).then(function (user) {
    //     console.log(user)
    // })

    // const promiseFour = new Promise(function (resolve, reject) {
    //     setTimeout(function () {
    //         let error = false;
    //         if (!error) {
    //             resolve({
    //                 username: 'Hitesh',
    //                 password: "1235"
    //             })
    //         }
    //         else {
    //             reject(`${error} : Something went wrong :<`);
    //         }
    //     }, 1000)
    // })
    // promiseFour
    //     .then((user) => {
    //         console.log(user);
    //         return user.username
    //     })
    //     .then((username) => {
    //         console.log("username is ", username);
    //     })
    //     .catch((err) => {
    //         console.log(err)
    //     })
    //     .finally(() => {
    //         console.log("The promise is either resolve or rejected");

    //     })


    const promiseFive = new Promise((resolve, reject) => {
        setTimeout(() => {
            let error = false;
            if (!error) {
                resolve({ programmingLg: 'JavaScript', Channerl: "chai aur code" })
            } else {
                reject("ERROR... No channel found :<");

            }
        }, 1000)
    })

    // async function consumePromiseFive(params) {
    //     try {
    //         const response = await promiseFive
    //         console.log(response)

    //     } catch (error) {
    //         console.log(error)

    //     }
    // }

    // async function getAllUsers() {
    //     try {
    //         const response = await fetch('https://jsonplaceholder.typicode.com/users')
    //         const data = await response.json()
    //         console.log(data);
    //     } catch (error) {
    //         console.log("Error is ", error);

    //     }
    // }
    // getAllUsers()

    fetch('https://jsonplaceholder.typicode.com/users')
        .then((response) => {
            return response.json()
        })
        .then((data) => {
            console.log(data);
        })
        .catch((error) => {
            console.log(error);
        })
        .finally(() => {
            console.log("API is fetched")
        })
</script>


</html>